{% extends "header.html" %}

{% block content %}

  <!-- Selection Header -->
  <div class='canvas' data-bind='with: destination'>
    <h1 id="destination" data-bind='text: name'>Destination</h1>
  </div>


  <!-- Photo Sphere -->
  <div class="section collapse" id="photo_sphere_canvas">
    <iframe id="photo_sphere" src="" allowfullscreen></iframe>
  </div>


  <!-- Flickr masterslider -->
  <div class="section collapse" id="myCarousel" data-bind="carousel: { content: { data: photoList } }"></div>


  <!-- Map Section -->
  <div class="section">

    <!-- Menu -->
    <div class="menu" data-bind="with: currentPlace">
      <!-- Close icon -->
      <div class="icon-close">
        <img id="close-btn" data-bind="click: $parent.closeMenu" src="/static/imgs/google_icons/ic_cancel_white_36dp/web/ic_cancel_white_36dp_1x.png" alt="close-icon">
      </div>
      <!-- Current Marker Info -->
            
      <h2 data-bind="text: name"></h2>
      <ul id="current_place">
          <li>Rating: <span data-bind="text: rating"></span></li>
          <li>Addres: <span data-bind="text: address"></span></li>
          <li>Phone: <span data-bind="text: phone"></span></li>
          <li>Distance: <span data-bind="text: distanceFromDestination"></span></li>
          <li>Approx. Drive Time: <span data-bind="text: durationFromDestination"></span></li>
      </ul>  
    </div>

      <!-- Map -->
      <div class="section" id="map_container">
        <!-- When nearly all parks covered, allow user to search park by name -->
        <!-- <input id="pac-input" class="controls" type="text" placeholder="Search Box"> -->
        <div class="canvas" id="map"></div>
      </div>
  </div>


  <!-- Info Btns -->
  <div class="icon_bar collapse " id="prep-icons">
      <ul class="btns" data-bind="foreach: prep_icons">
          <li class="info-btn">
            <img data-bind="attr: {src: img, title: title, alt: alt}, click: $parent.search">
          </li>
          <li>|</li>
      </ul>
  </div>


  <!-- Trail Info -->
  <div class="mini-section collapse container-fluid" id="trail-info" data-bind="with: currentTrail">
    <div class="row">
      <div class="col-lg-3 col-md-3 col-sm-4 " id="stats">
        <h5>The Basics</h5>
        <ul>
        <li>Distance: <span data-bind="text: total_distance"></span> mi</li>
        <li>Start Elevation: <span data-bind="text: start_elevation"></span> ft</li>
        <li>End Elevation: <span data-bind="text: end_elevation"></span> ft</li>
        <li>Elevation Change: <span data-bind="text: total_elevation_change"></span> ft</li>
        </ul>
      </div>

      <div class="col-lg-3 col-md-3 col-sm-4" id="what_to_expect">
      <h5 data-toggle="tooltip" title="All the data translated into something more relevant to the day to day." trigger="hover" delay="0">What to Expect</h5>
      <ul>
          <li>Avg. Grade: %<span data-bind="text: avgGrade"></span></li>
          <li>Elevation as stairs : <span data-bind="text: flights"></span> flights</li>
          <li>Work Ratio: <span data-bind="text: workRatio"></span></li>
          <li>Flat Equivalent: <span data-bind="text: flat_equivalent"></span> mi</li>
      </ul>
      </div>

      <div class="col-lg-2 col-md-2 col-sm-2" id="activities">
      <h5>Activities</h5>
      <ul data-bind="foreach: activities">
          <li><span data-bind="text: $data"></span></li>
      </ul>
      </div>

      <div class="col-lg-3 col-md-3 col-sm-2" id="seasons">
      <h5>Best Seasons</h5>
      <ul data-bind="foreach: seasons">
          <li><span data-bind="text: $data"></span></li>
      </ul>
      </div>
    </div>
  </div>


  <!-- Forecast -->
  <div class="mini-section collapse container-fluid" id="forecast">
      <ul class="canvas rows" id="forecast-week" data-bind="foreach: forecast">
        <li class="day col-xl-2 col-lg-2 col-md-2 col-sm-4 col-xs-4">
          <p data-bind="text: weekday"></p>
          <img id="weather-img" alt="weather forecast" data-bind="attr: {src: img}">
          <p data-bind="text: avg"></p>
          <p data-bind="text: range"></p>
          <p data-bind="text: desc"></p>
        </li>
      </ul>
  </div>


  <!-- Elevation -->
  <div class="canvas collapse" id="elevation">
  </div>


  <!-- Park/Trail List -->
  <!-- <div class="section collapse" id="list">
      <ul class="park" data-bind="foreach: filteredList">
        <li>
          <a href="#"><h2 data-bind="text: name, click: $parent.selectTrail(self)"></h2></a>
          <hr>
        </li>
      </ul>
  </div> -->

  
  <!-- CSS -->
  <link rel="stylesheet" type="text/css" href="/static/css/map.css">
  <!-- Knockout -->
  <script src="/static/js/knockout/knockout-3.4.0.js"></script>
  <!-- Knockstrap -->
  <script src="/static/js/knockstrap/knockstrap.min.js"></script>
  <!-- Google Graph -->
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <!-- Map JS -->
  <script src="/static/js/map.js"></script>

  <!-- Google Maps -->
  <script onload="initMap()" onerror="mapError()" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC9OHhxzexIo2nYScmEqSM4Rsqp9mRSflI&libraries=places,visualization" 
    async defer ></script>

  <!-- Auto search content if entered on homepage -->
  <!-- {% if video_id != None %}
    <script>VM.youtubeSearch('{{ video_id }}');</script>
  {% endif %} -->

{% endblock %}